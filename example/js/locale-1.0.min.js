/**
 * Locale.js 1.0 is a client side Javascript Localization library.
 * Author: Chia-Wei Tuan (linkedin.com/in/cwtuan)
 * Github: https://github.com/cwtuan/Locale.js
 * Demo: http://opensource.tonytuan.org/locale.js/
 * License: Apache License
 * Build: Sun, 28 Sep 2014 08:48:10 GMT
 */
 var Locale=function(){"use strict";function n(n,t){var e,r,a,u,i,s,l,g,c,f=this;for(this.map={},this.langUrls||console.error("You should call setLanguageUrls() before loading lagnuage file."),e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){for(r=e.responseText.split(/\r\n|\r|\n/g),a=0;a<r.length;++a)u=r[a].indexOf("="),i=r[a].substr(0,u),s=r[a].substr(u+1),i&&s&&(s=s.replace(/\r/g,"").replace(/\n/g,""),f.map[i]=s);n&&t()}},l=f.getCurrentLanguage.call(this),a=0,c=this.langUrls.length;c>a;a++)if(-1!==this.langUrls[a].indexOf(l)){g=this.langUrls[a];break}g=g||f.langUrls[0],e.open("GET",g+"?"+o(),n),e.send()}function t(n,t){document.cookie=n+"="+encodeURIComponent(t)}function e(n){for(var t,e=n+"=",a=0,o=0;a<document.cookie.length;){if(o=a+e.length,document.cookie.substring(a,o)===e)return r.call(this,o);if(t=document.cookie.indexOf(" ",a),-1===t)return null;a=1+t}return null}function r(n){var t=document.cookie.indexOf(";",n);return-1==t&&(t=document.cookie.length),encodeURIComponent(document.cookie.substring(n,t))}function a(){return navigator.language||navigator.browserLanguage||navigator.userLanguage}function o(){return"_rand="+(new Date).getTime()}function u(n){return n=n.split("_"),1==n.length&&(n=n[0].split("-")),n[0].toLowerCase()+"_"+n[1].toUpperCase()}function i(n,t){var e,r,a;if(n=location.search.split("?")[1],n&&(e=n.split("&")))for(r=0;r<e.length;++r)if(a=e[r].split("="),a[0]===t)return a[1];return null}return{setLanguageUrls:function(n){this.langUrls=n},getMsg:function(n){var t,e;if(this.map[n]){if(t=[],1==arguments.length)return this.map[n];for(e=1;e<arguments.length;e++)t.push(arguments[e]);return this.map[n].replace(/\{(\d+)\}/g,function(n,e){return t[e]})}return n+".UNDEFINED"},loadAsync:function(t){n.call(this,!0,t)},loadSync:function(){n.call(this,!1)},setCurrentLanguage:function(n){this.currentLang=n},saveLanguage:function(n){t("lang",n)},hasKey:function(n){return null!==this.map[n]},getCurrentLanguage:function(){var n=this.currentLang||i(location.search,"lang")||e("lang")||a();return u(n)}}}();